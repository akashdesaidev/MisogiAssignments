<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'none'; style-src {{cspSource}}; script-src 'nonce-{{nonce}}';"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="{{styleUri}}" rel="stylesheet" />
    <title>CursorClone Chat</title>
  </head>
  <body>
    <div id="chat-container">
      <!-- Chat messages will be dynamically added here -->
    </div>

    <div id="thinking-indicator" class="hidden">
      <span></span><span></span><span></span>
    </div>

    <div id="input-container">
      <textarea
        id="user-input"
        placeholder="Ask a question..."
        rows="1"
      ></textarea>
      <button id="send-button" title="Send Message">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="currentColor"
          width="18"
          height="18"
        >
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
        </svg>
      </button>
    </div>
    <div>
      <div id="controls-container">
        <button id="clear-chat-button">Clear Chat</button>
        <button id="reset-key-button">Reset API Key</button>
      </div>
    </div>
    <!-- Scripts -->
    <script
      nonce="{{nonce}}"
      src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"
    ></script>
    <script nonce="{{nonce}}" src="{{scriptUri}}"></script>
  </body>
</html>
